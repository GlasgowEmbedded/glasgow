<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="search" title="Search" href="../search.html" /><link rel="next" title="Applet index" href="../applets/index.html" /><link rel="prev" title="Basic usage" href="basic.html" />
        <link rel="canonical" href="https://glasgow-embedded.org/latest/use/repl-script.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>REPL &amp; script operation - Glasgow Interface Explorer</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=6ed97bf6" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/fontawesome.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/solid.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/brands.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/custom.css?v=1626aa46" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-announcement-background: #56bf62;
  --color-announcement-text: #094a05;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-announcement-background: #1c4808;
  --color-announcement-text: #64cc69;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-announcement-background: #1c4808;
  --color-announcement-text: #64cc69;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>

<div class="announcement">
  <aside class="announcement-content">
     Production units are being shipped by Mouser. <a href='https://crowdsupply.com/1bitsquared/glasgow'>Order yours now!</a> 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Glasgow InterfaceÂ Explorer</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Glasgow InterfaceÂ Explorer</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../revisions/index.html">Hardware revisions</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Hardware revisions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../revisions/revC3.html">Technical description (revC3)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../purchase.html">Purchasing hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build.html">Building hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing &amp; updating</a></li>
<li class="toctree-l1"><a class="reference external" href="https://webusb.glasgow-embedded.org/">Run in browser</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Using the device</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Using the device</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="basic.html">Basic usage</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">REPL &amp; script operation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../applets/index.html">Applet index</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Applet index</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../applets/interface/index.html">I/O interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of I/O interfaces</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../applets/interface/uart.html"><code class="docutils literal notranslate"><span class="pre">uart</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/interface/uart_analyzer.html"><code class="docutils literal notranslate"><span class="pre">uart-analyzer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/interface/i2c_controller.html"><code class="docutils literal notranslate"><span class="pre">i2c-controller</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/interface/spi_controller.html"><code class="docutils literal notranslate"><span class="pre">spi-controller</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/interface/spi_analyzer.html"><code class="docutils literal notranslate"><span class="pre">spi-analyzer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/interface/qspi_controller.html"><code class="docutils literal notranslate"><span class="pre">qspi-controller</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/interface/qspi_analyzer.html"><code class="docutils literal notranslate"><span class="pre">qspi-analyzer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/interface/jtag_pinout.html"><code class="docutils literal notranslate"><span class="pre">jtag-pinout</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/interface/jtag_probe.html"><code class="docutils literal notranslate"><span class="pre">jtag-probe</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/interface/jtag_svf.html"><code class="docutils literal notranslate"><span class="pre">jtag-svf</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/interface/sbw_probe.html"><code class="docutils literal notranslate"><span class="pre">sbw-probe</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/interface/swd_probe.html"><code class="docutils literal notranslate"><span class="pre">swd-probe</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../applets/memory/index.html">Memory manipulation</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Memory manipulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../applets/memory/24x.html"><code class="docutils literal notranslate"><span class="pre">memory-24x</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/memory/25x.html"><code class="docutils literal notranslate"><span class="pre">memory-25x</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../applets/program/index.html">MCU/FPGA programming</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of MCU/FPGA programming</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../applets/program/ice40_sram.html"><code class="docutils literal notranslate"><span class="pre">program-ice40-sram</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/program/ice40_flash.html"><code class="docutils literal notranslate"><span class="pre">program-ice40-flash</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/program/xc6s.html"><code class="docutils literal notranslate"><span class="pre">program-xc6s</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/program/xc9500.html"><code class="docutils literal notranslate"><span class="pre">program-xc9500</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/program/xc9500xl.html"><code class="docutils literal notranslate"><span class="pre">program-xc9500xl</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/program/xpla3.html"><code class="docutils literal notranslate"><span class="pre">program-xpla3</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/program/mec16xx.html"><code class="docutils literal notranslate"><span class="pre">program-mec16xx</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../applets/debug/index.html">MCU debugging</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of MCU debugging</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../applets/debug/arc.html"><code class="docutils literal notranslate"><span class="pre">debug-arc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/debug/arm.html"><code class="docutils literal notranslate"><span class="pre">debug-arm</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/debug/arm7.html"><code class="docutils literal notranslate"><span class="pre">debug-arm7</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/debug/mips.html"><code class="docutils literal notranslate"><span class="pre">debug-mips</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../applets/control/index.html">Device control</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Device control</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../applets/control/gpio.html"><code class="docutils literal notranslate"><span class="pre">control-gpio</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/control/servo.html"><code class="docutils literal notranslate"><span class="pre">control-servo</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/control/si535x.html"><code class="docutils literal notranslate"><span class="pre">control-si535x</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../applets/sensor/index.html">Environment sensing</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Environment sensing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../applets/sensor/bmx280.html"><code class="docutils literal notranslate"><span class="pre">sensor-bmx280</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/sensor/hcsr04.html"><code class="docutils literal notranslate"><span class="pre">sensor-hcsr04</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/sensor/scd30.html"><code class="docutils literal notranslate"><span class="pre">sensor-scd30</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/sensor/sen5x.html"><code class="docutils literal notranslate"><span class="pre">sensor-sen5x</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../applets/bridge/index.html">External tools</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of External tools</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../applets/bridge/flashrom.html"><code class="docutils literal notranslate"><span class="pre">spi-flashrom</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/bridge/jtag_openocd.html"><code class="docutils literal notranslate"><span class="pre">jtag-openocd</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/bridge/jtag_xvc.html"><code class="docutils literal notranslate"><span class="pre">jtag-xvc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../applets/bridge/probe_rs.html"><code class="docutils literal notranslate"><span class="pre">probe-rs</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../applets/internal/index.html">Internal test</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Internal test</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../applets/internal/benchmark.html"><code class="docutils literal notranslate"><span class="pre">benchmark</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../develop/index.html">Development process</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Development process</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../develop/applet.html">Applets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../develop/docs.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../develop/software.html">Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../develop/firmware.html">Firmware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../develop/hardware.html">Hardware</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/GlasgowEmbedded/glasgow/blob/main/docs/manual/src/use/repl-script.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/GlasgowEmbedded/glasgow/edit/main/docs/manual/src/use/repl-script.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="repl-script-operation">
<span id="repl-script"></span><h1>REPL &amp; script operation<a class="headerlink" href="#repl-script-operation" title="Link to this heading">Â¶</a></h1>
<section id="what-is-repl">
<h2>What is â<em>REPL</em>â?<a class="headerlink" href="#what-is-repl" title="Link to this heading">Â¶</a></h2>
<p>If youâve ever typed <code class="docutils literal notranslate"><span class="pre">python3</span></code> into a terminal, or found yourself looking at the three angle brackets (<code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code>), then youâll have some idea of what weâre referring to. It stands for â<cite>Read Eval Print Loop</cite>â, and is a fundamental way of interacting with many interpreted languages (including Bash and JavaScript, alongside Python).</p>
<p>By invoking <code class="docutils literal notranslate"><span class="pre">glasgow</span> <span class="pre">repl</span> <span class="pre">...</span></code> you can gain interactive code-level access to the applet of your choice.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As always, please make sure you select the correct I/O and supply voltage for whatever you have connected to your Glasgow.</p>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>glasgow<span class="w"> </span>repl<span class="w"> </span>i2c-controller<span class="w"> </span>-V<span class="w"> </span><span class="m">3</span>.3
<span class="go">I: glasgow.hardware.device: device already has bitstream ID 0484178a31cff82770362171c7bccf0a</span>
<span class="go">I: glasgow.hardware.assembly: port A voltage set to 3.3 V</span>
<span class="go">I: glasgow.hardware.assembly: port B voltage set to 3.3 V</span>
<span class="go">I: glasgow.cli: running handler for applet &#39;i2c-controller&#39;</span>
<span class="go">I: glasgow.applet.interface.i2c_controller: dropping to REPL; use &#39;help(i2c_iface)&#39; to see available APIs</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>What happens now is entirely up to you â <code class="docutils literal notranslate"><span class="pre">glasgow</span> <span class="pre">script</span> <span class="pre">...</span></code> is given an identical environment, except that it will run the nominated script rather than present control to you.</p>
<p>The Glasgow framework provides us with access to the <code class="docutils literal notranslate"><span class="pre">device</span></code> and <code class="docutils literal notranslate"><span class="pre">args</span></code> variables, plus another variable that is named differently depending on the applet being used. For example, the IÂ²C applet calls it <code class="docutils literal notranslate"><span class="pre">i2c_iface</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; locals().keys()</span>
<span class="go">dict_keys([&#39;__name__&#39;, &#39;device&#39;, &#39;i2c_iface&#39;, &#39;args&#39;, &#39;__builtins__&#39;])</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some examples are maintained in the <a class="reference external" href="https://github.com/GlasgowEmbedded/glasgow/tree/main/examples">examples</a> directory.</p>
</div>
<p>One further note â a lot of the Glasgow framework uses <code class="docutils literal notranslate"><span class="pre">asyncio</span></code>, with the most apparent impact to users being that the <code class="docutils literal notranslate"><span class="pre">await</span></code> keyword must be used. You are provided with an async-capable environment, so no additional setup work is required on your part â just use the <code class="docutils literal notranslate"><span class="pre">await</span></code> keywordâ¦ if you ever see a <code class="docutils literal notranslate"><span class="pre">&lt;coroutine</span> <span class="pre">object</span> <span class="pre">....&gt;</span></code>, try using <code class="docutils literal notranslate"><span class="pre">await</span></code>.</p>
</section>
<section id="how-do-i-use-this-interface">
<h2>How do I use this interface?<a class="headerlink" href="#how-do-i-use-this-interface" title="Link to this heading">Â¶</a></h2>
<p>The exact usage will depend heavily on the applet youâve requested, some examples are provided below with explanations.</p>
<p>As the startup prompt suggests, investigating <code class="docutils literal notranslate"><span class="pre">help(applet_iface)</span></code> and <code class="docutils literal notranslate"><span class="pre">help(device)</span></code> are good places to startâ¦ after that, have a look at the appletâs code.</p>
<section id="i2c">
<h3>IÂ²C<a class="headerlink" href="#i2c" title="Link to this heading">Â¶</a></h3>
<p>For this example, I will be using the <a class="reference external" href="https://web.archive.org/web/20230206233109/https://www.sparkfun.com/products/retired/9694">Sparkfun BMP085</a> (a now-retired breakout for an IÂ²C barometric pressure sensor), which supports 3.3v operation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>IÂ²C busses are implemented using open-drain, meaning that pull-up resistors are <cite>required</cite>â¦ Glasgowâs onboard 10kÎ© pull-ups are enabled by default â while they will generally be enough, they may not suffice for fast or long busses. This particular breakout board has on-board pull-ups already, so itâs not necessary to use them.</p>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>glasgow<span class="w"> </span>repl<span class="w"> </span>i2c-controller<span class="w"> </span>-V<span class="w"> </span><span class="m">3</span>.3
<span class="go">I: glasgow.hardware.device: device already has bitstream ID 0484178a31cff82770362171c7bccf0a</span>
<span class="go">I: glasgow.hardware.assembly: port A voltage set to 3.3 V</span>
<span class="go">I: glasgow.hardware.assembly: port B voltage set to 3.3 V</span>
<span class="go">I: glasgow.cli: running handler for applet &#39;i2c-controller&#39;</span>
<span class="go">I: glasgow.applet.interface.i2c_controller: dropping to REPL; use &#39;help(i2c_iface)&#39; to see available APIs</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Letâs start with a bus scan:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; await i2c_iface.scan()</span>
<span class="go">{119}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Address <code class="docutils literal notranslate"><span class="pre">119</span></code> has responded, which is <code class="docutils literal notranslate"><span class="pre">0x77</span></code> â and this matches the datasheet!</p>
<p>This sensor isnât the easiest to operate directly (you need to read a number of calibration variables and perform long calculations), so this is a great example of when you might want to start writing a script instead of using the REPL interfaceâ¦ however, to prove the point, weâre going to read a register and leave the rest as an exercise for the reader.</p>
<p>If youâre familiar with IÂ²C, youâll know that a common convention is for the target register address to be conveyed as the first portion of a writeâs payload, with a subsequent read accessing the data from that location, with addresses incrementing automatically. Here we read the <code class="docutils literal notranslate"><span class="pre">AC1</span></code> value, which is a 16-bit integer stored at addresses <code class="docutils literal notranslate"><span class="pre">0xAA</span></code> and <code class="docutils literal notranslate"><span class="pre">0xAB</span></code> â first by writing the <code class="docutils literal notranslate"><span class="pre">0xAA</span></code> base address, and then performing a 2-byte read.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; await i2c_iface.write(119, [ 0xAA ])</span>
<span class="go">True</span>
<span class="go">&gt;&gt;&gt; await i2c_iface.read(119, 2)</span>
<span class="go">b&#39;\x1c\x04&#39;</span>
</pre></div>
</div>
</section>
<section id="uart">
<h3>UART<a class="headerlink" href="#uart" title="Link to this heading">Â¶</a></h3>
<p>To demonstrate a simple UART loopback, Iâve connected pin 0 and 1 of Port A togetherâ¦ i.e: anything that we transmit, will be immediately received again by us.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>glasgow<span class="w"> </span>repl<span class="w"> </span>uart<span class="w"> </span>-V<span class="w"> </span><span class="m">3</span>.3
<span class="go">I: glasgow.hardware.device: device already has bitstream ID f3838ff227839f106448c2ecf6913ee9</span>
<span class="go">I: glasgow.hardware.assembly: port A voltage set to 3.3 V</span>
<span class="go">I: glasgow.hardware.assembly: port B voltage set to 3.3 V</span>
<span class="go">I: glasgow.cli: running handler for applet &#39;uart&#39;</span>
<span class="go">I: glasgow.applet.interface.uart: dropping to REPL; use &#39;help(uart_iface)&#39; to see available APIs</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Again, we simply call the <code class="docutils literal notranslate"><span class="pre">uart_iface.write()</span></code> and <code class="docutils literal notranslate"><span class="pre">uart_iface.read()</span></code> functions to handle transmit and receiveâ¦</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; await uart_iface.write(b&#39;hello!&#39;)</span>
<span class="go">&gt;&gt;&gt; await uart_iface.read()</span>
<span class="go">b&#39;hello!&#39;</span>
</pre></div>
</div>
</section>
<section id="ws2812">
<h3>WS2812<a class="headerlink" href="#ws2812" title="Link to this heading">Â¶</a></h3>
<p>Iâve got a <a class="reference external" href="https://www.adafruit.com/product/1768">quarter of an Adafruit 60 LED ring</a>â¦ thatâs 15x WS2812 RGB LEDs.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Due to some buffering artifacts, make sure you write a whole frame at once!</p>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>glasgow<span class="w"> </span>repl<span class="w"> </span>video-ws2812-output<span class="w"> </span>-V<span class="w"> </span><span class="m">5</span><span class="w"> </span>-c<span class="w"> </span><span class="m">15</span><span class="w"> </span>-b<span class="w"> </span><span class="m">1</span><span class="w"> </span>-f<span class="w"> </span>RGB-xBRG<span class="w"> </span>--out<span class="w"> </span>A0
<span class="go">I: glasgow.hardware.device: generating bitstream ID 0dfe27478be3932374f61610193f34f0</span>
<span class="go">I: glasgow.cli: running handler for applet &#39;video-ws2812-output&#39;</span>
<span class="go">I: glasgow.applet.video.ws2812_output: port A voltage set to 5.0 V</span>
<span class="go">I: glasgow.applet.video.ws2812_output: port B voltage set to 5.0 V</span>
<span class="go">I: glasgow.applet.video.ws2812_output: dropping to REPL; use &#39;help(iface)&#39; to see available APIs</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Next, we just write pixel data! Glasgow handles the pixel format mapping for us, and because we requested <code class="docutils literal notranslate"><span class="pre">RGB-xBRG</span></code>, the conversion from RGB24 (three bytes per pixel) will be handled in hardware.
The <code class="docutils literal notranslate"><span class="pre">xBRG</span></code> indicates that weâre giving a constand <code class="docutils literal notranslate"><span class="pre">0</span></code> for the White channel, followed by the required order of Red, Green, and Blue.</p>
<p>Theyâre bright, so be careful of your eyes (I used <code class="docutils literal notranslate"><span class="pre">1</span></code> for a reason)â¦ hereâs a strip of green pixels:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; await iface.write([ 0,1,0 ] * args.count)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>A 3-bit rainbow: (black, red, green, yellow, blue, magenta, cyan, white)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; from itertools import chain</span>
<span class="go">&gt;&gt;&gt; pix = ( (n&amp;1, n&amp;2, n&amp;4) for n in range(args.count) )    # counter to 3-bit colors</span>
<span class="go">&gt;&gt;&gt; pix = chain.from_iterable(pix)                          # flatten to 1 dimension</span>
<span class="go">&gt;&gt;&gt; pix = map(lambda v: 1 if v else 0, pix)                 # flatten to 0 or 1</span>
<span class="go">&gt;&gt;&gt; pix = [ *pix ]                                          # make into a list for re-use</span>
<span class="go">&gt;&gt;&gt; await iface.write(pix)                                  # display it</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>And all off again, followed by a full power-down of the I/O:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt;&gt;&gt; await iface.write([ 0,0,0 ] * args.count)</span>
<span class="go">&gt;&gt;&gt; await device.set_voltage(&#39;AB&#39;, 0)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Hopefully this example starts to show you the power you have available.</p>
</section>
</section>
<section id="how-do-i-use-a-script">
<span id="script-usage"></span><h2>How do I use a script?<a class="headerlink" href="#how-do-i-use-a-script" title="Link to this heading">Â¶</a></h2>
<p>Scripts operate in exactly the same way as the REPL interface â the only real difference is that instead of you typing (or copy/pasting) the code, it will be read from the nominated file.
This allows you to build up much more sophisticated things, harnessing the power of Glasgow without touching any applet code directly.</p>
<p>See the <a class="reference external" href="https://github.com/GlasgowEmbedded/glasgow/blob/main/examples/i2c-pcf8574.py">PCF8574</a> example for a simple demo.</p>
</section>
<section id="can-i-use-command-line-arguments">
<h2>Can I use command line arguments?<a class="headerlink" href="#can-i-use-command-line-arguments" title="Link to this heading">Â¶</a></h2>
<p>Yes! The <code class="docutils literal notranslate"><span class="pre">args</span></code> variable that is passed into the REPL and script environments contains all command line arguments that Glasgow sets up (including any defaults), along with a <code class="docutils literal notranslate"><span class="pre">script_args</span></code> member which contains anything after the first terminating <code class="docutils literal notranslate"><span class="pre">--</span></code>.</p>
<p>Of course youâre also able to setup <code class="docutils literal notranslate"><span class="pre">argparse</span></code> or do whatever argument parsing you need to do â see the <a class="reference external" href="https://github.com/GlasgowEmbedded/glasgow/blob/main/examples/script_args.py">script args</a> example.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>glasgow<span class="w"> </span>repl<span class="w"> </span>i2c-controller<span class="w"> </span>-V<span class="w"> </span><span class="m">3</span>.3<span class="w"> </span>--<span class="w"> </span><span class="nb">test</span><span class="w"> </span>me
<span class="go">I: glasgow.hardware.device: generating bitstream ID 0484178a31cff82770362171c7bccf0a</span>
<span class="go">I: glasgow.hardware.assembly: port A voltage set to 3.3 V</span>
<span class="go">I: glasgow.hardware.assembly: port B voltage set to 3.3 V</span>
<span class="go">I: glasgow.cli: running handler for applet &#39;i2c-controller&#39;</span>
<span class="go">I: glasgow.applet.interface.i2c_controller: dropping to REPL; use &#39;help(i2c_iface)&#39; to see available APIs</span>
<span class="go">&gt;&gt;&gt; args</span>
<span class="go">Namespace(verbose=0, quiet=0, log_file=None, filter_log=None, no_shorten=False, show_statistics=False, serial=None, action=&#39;repl&#39;, override_required_revision=False, reload=False, prebuilt=False, prebuilt_at=None, applet=&#39;i2c-initiator&#39;, scl=PinArgument(number=0, invert=False), sda=PinArgument(number=1, invert=False), bit_rate=100, voltage=[VoltArgument(ports=&#39;AB&#39;, value=3.3, sense=None)], pulls=True, script_args=[&#39;test&#39;, &#39;me&#39;])</span>
<span class="go">&gt;&gt;&gt; args.script_args</span>
<span class="go">[&#39;test&#39;, &#39;me&#39;]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../applets/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Applet index</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="basic.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Basic usage</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2020â2025, Glasgow Interface Explorer contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link fa-brands fa-solid fa-github fa-2x" href="https://github.com/GlasgowEmbedded/glasgow/" aria-label="GitHub"></a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">REPL &amp; script operation</a><ul>
<li><a class="reference internal" href="#what-is-repl">What is â<em>REPL</em>â?</a></li>
<li><a class="reference internal" href="#how-do-i-use-this-interface">How do I use this interface?</a><ul>
<li><a class="reference internal" href="#i2c">IÂ²C</a></li>
<li><a class="reference internal" href="#uart">UART</a></li>
<li><a class="reference internal" href="#ws2812">WS2812</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-do-i-use-a-script">How do I use a script?</a></li>
<li><a class="reference internal" href="#can-i-use-command-line-arguments">Can I use command line arguments?</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=50ba5bf0"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    </body>
</html>